drop.units=TRUE) +
tm_layout(legend.show = TRUE,
title.position = c("center", "center"),
title.size = 20) +
tm_borders(fill_alpha = 0.5)
#| fig-width: 12
youngmap <- tm_shape(mpsz_pop2024)+
tm_polygons(fill = "YOUNG",
fill.legend = tm_legend(
position = tm_pos_in(
"right", "bottom"),
item.height = 0.8),
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.blues")) +
tm_borders(fill_alpha = 0.5) +
tm_title("Distribution of young population")
agedmap <- tm_shape(mpsz_pop2024)+
tm_polygons(fill = "AGED",
fill.legend = tm_legend(
position = tm_pos_in(
"right", "bottom"),
item.height = 0.8),
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.blues")) +
tm_borders(fill_alpha = 0.5) +
tm_title("Distribution of aged population")
tmap_arrange(youngmap, agedmap, asp=1, ncol=2)
mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend()) +
tm_borders(fill_alpha = 0.5)
View(mpsz_pop2024)
mpsz_pop2024 %>%
filter(REGION_N == "NORTH-EAST REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend()) +
tm_borders(fill_alpha = 0.5)
#| fig-width: 12
mpsz_pop2024 %>%
filter(REGION_N == "NORTH-EAST REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend()) +
tm_borders(fill_alpha = 0.5)
#| fig-width: 12
mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend()) +
tm_borders(fill_alpha = 0.5)
#| fig-width: 12
mpsz_pop2024 %>%
filter(REGION_N == "NORTH-EAST REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend()) +
tm_borders(fill_alpha = 0.5) +
tm_layout(title = "Population in North-East Region")
#| fig-width: 12
mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend()) +
tm_borders(fill_alpha = 0.5) +
tm_layout(title = "Population in Central Region")
mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders() +
tm_layout(asp = 0.8)
#| fig-width: 12
mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders() +
tm_layout(asp = 0.8)
mpsz_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
stats <- boxplot.stats(mpsz_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- mpsz_selected[mpsz_selected$DEPENDENCY %in% outlier_vals, ]
tm_shape(mpsz_selected) +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.blues"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders(fill_alpha = 0.5) +
tm_shape(outlier_sf) +
tm_borders(col = "red", lwd = 2) +
tm_text("SUBZONE_N", col = "red", size = 0.7) +
tm_layout(asp = 0.8)
#| fig-width: 12
mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders() +
tm_layout(asp = 1.2)
#| fig-width: 12
mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION") %>%
tm_shape() +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.greens"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders() +
tm_layout(asp = 1.0)
#| fig-width: 12
mpsz_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
stats <- boxplot.stats(mpsz_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- mpsz_selected[mpsz_selected$DEPENDENCY %in% outlier_vals, ]
tm_shape(mpsz_selected) +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.blues"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders(fill_alpha = 0.5) +
tm_shape(outlier_sf) +
tm_borders(col = "red", lwd = 2) +
tm_text("SUBZONE_N", col = "red", size = 0.7) +
tm_layout(asp = 1.2)
#| fig-width: 12
mpsz_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
stats <- boxplot.stats(mpsz_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- mpsz_selected[mpsz_selected$DEPENDENCY %in% outlier_vals, ]
tm_shape(mpsz_selected) +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.blues"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders(fill_alpha = 0.5) +
tm_shape(outlier_sf) +
tm_borders(col = "red", lwd = 2) +
tm_text("SUBZONE_N", col = "red", size = 1) +
tm_layout(asp = 1.2)
#| fig-width: 12
mpsz_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
stats <- boxplot.stats(mpsz_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- mpsz_selected[mpsz_selected$DEPENDENCY %in% outlier_vals, ]
tm_shape(mpsz_selected) +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.blues"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders(fill_alpha = 0.5) +
tm_shape(outlier_sf) +
tm_borders(col = "#FF9B00", lwd = 2) +
tm_text("SUBZONE_N", col = "#FF9B00", size = 1) +
tm_layout(asp = 1.2)
#| fig-width: 12
mpsz_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
stats <- boxplot.stats(mpsz_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- mpsz_selected[mpsz_selected$DEPENDENCY %in% outlier_vals, ]
tm_shape(mpsz_selected) +
tm_polygons(fill = "DEPENDENCY",
fill.scale = tm_scale_intervals(
style = "quantile",
values = "brewer.blues"),
fill.legend = tm_legend(),
fill.chart = tm_chart_box()) +
tm_borders(fill_alpha = 0.5) +
tm_shape(outlier_sf) +
tm_borders(col = "#B9375D", lwd = 2) +
tm_text("SUBZONE_N", col = "#B9375D", size = 1) +
tm_layout(asp = 1.2)
region_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
region_bbox <- st_bbox(region_selected)
stats <- boxplot.stats(region_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- region_selected[region_selected$DEPENDENCY %in% outlier_vals, ]
tmap_mode("view")
tm_shape(region_selected,
bbox = region_bbox) +
tm_fill("DEPENDENCY",
id = "SUBZONE_N",
popup.vars = c(
"Name" = "SUBZONE_N",
"Dependency" = "DEPENDENCY")) +
tm_borders() +
tm_shape(outlier_sf) +
tm_borders(col = "red", lwd = 2)
tmap_mode("plot")
region_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
region_bbox <- st_bbox(region_selected)
stats <- boxplot.stats(region_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- region_selected[region_selected$DEPENDENCY %in% outlier_vals, ]
tmap_mode("view")
tm_shape(region_selected,
bbox = region_bbox) +
tm_fill("DEPENDENCY",
id = "SUBZONE_N",
popup.vars = c(
"Name" = "SUBZONE_N",
"Dependency" = "DEPENDENCY")) +
tm_borders() +
tm_shape(outlier_sf) +
tm_borders(col = "red", lwd = 2) +
tm_view(set_zoom_limits = c(12,14))
tmap_mode("plot")
region_selected <- mpsz_pop2024 %>%
filter(REGION_N == "CENTRAL REGION")
region_bbox <- st_bbox(region_selected)
stats <- boxplot.stats(region_selected$DEPENDENCY)
outlier_vals <- stats$out
outlier_sf <- region_selected[region_selected$DEPENDENCY %in% outlier_vals, ]
tmap_mode("view")
tm_shape(region_selected,
bbox = region_bbox) +
tm_fill("DEPENDENCY",
id = "SUBZONE_N",
popup.vars = c(
"Name" = "SUBZONE_N",
"Dependency" = "DEPENDENCY")) +
tm_borders() +
tm_shape(outlier_sf) +
tm_borders(col = "red", lwd = 2) +
tm_view(set_zoom_limits = c(10,14))
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
mpsz = st_read(dsn = "data/geospatial",
layer = "MP14_SUBZONE_WEB_PL")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
preschool = st_read("data/geospatial/PreSchoolsLocation.kml")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
preschool = st_read("data/geospatial/PreSchoolsLocation.kml")
st_geometry(mpsz)
head(mpsz, n = 5)
par(bg = "#D0DDD0")
plot(mpsz)
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
par(bg = "#D0DDD0")
plot(mpsz["PLN_AREA_C"])
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
plot(st_geometry(preschool), add = TRUE)
par(bg = "#e6f0e6")
preschool_svy21 <- st_transform(preschool, 3414)
plot(st_geometry(mpsz))
plot(st_geometry(preschool_svy21), add = TRUE, col = "#BA487F", pch = 16, cex = 0.25)
preschool <- st_transform(preschool, crs = 3414)
st_geometry(preschool)
preschool <- st_transform(preschool, crs = 3414)
st_geometry(preschool)
par(bg = "#D0DDD0")
plot(st_geometry(mpsz))
plot(st_geometry(preschool), add = TRUE)
listings <- read_csv("data/aspatial/listings.csv")
listings_sf <- st_as_sf(listings,
coords = c("longitude", "latitude"),
crs = 4326) %>%
st_transform(crs = 3414)
glimpse(listings_sf)
par(bg = "#D0DDD0")
plot(st_geometry(mpsz))
plot(st_geometry(listings_sf), add = TRUE, col = "#9112BC", pch = 16, cex = 0.25)
cyclingpath <- st_transform(cyclingpath, crs = 3414)
buffer_cycling <- st_buffer(cyclingpath,
dist = 5, nQuadSegs = 30) %>%
mutate(AREA = st_area(geometry))
sum(buffer_cycling$AREA)
mpsz_selected <- mpsz %>%
filter(SUBZONE_N == "TAMPINES WEST")
buffer_cycling_selected <- st_intersection(
st_geometry(buffer_cycling),
st_geometry(mpsz_selected)
)
pacman::p_load(sf, tidyverse)
mpsz = st_read(dsn = "data/geospatial",
layer = "MP14_SUBZONE_WEB_PL")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
preschool = st_read("data/geospatial/PreSchoolsLocation.kml")
st_geometry(mpsz)
glimpse(mpsz)
head(mpsz, n = 5)
par(bg = "#D0DDD0")
plot(mpsz)
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
par(bg = "#D0DDD0")
plot(mpsz["PLN_AREA_C"])
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
plot(st_geometry(preschool), add = TRUE)
par(bg = "#e6f0e6")
preschool_svy21 <- st_transform(preschool, 3414)
plot(st_geometry(mpsz))
plot(st_geometry(preschool_svy21), add = TRUE, col = "#BA487F", pch = 16, cex = 0.25)
st_crs(mpsz)
mpsz <- st_set_crs(mpsz, 3414)
st_crs(mpsz)
st_geometry(preschool)
preschool <- st_transform(preschool, crs = 3414)
st_geometry(preschool)
list(listings)
listings_sf <- st_as_sf(listings,
coords = c("longitude", "latitude"),
crs = 4326) %>%
st_transform(crs = 3414)
glimpse(listings_sf)
par(bg = "#D0DDD0")
plot(st_geometry(mpsz))
plot(st_geometry(listings_sf), add = TRUE, col = "#9112BC", pch = 16, cex = 0.25)
cyclingpath <- st_transform(cyclingpath, crs = 3414)
buffer_cycling <- st_buffer(cyclingpath,
dist = 5, nQuadSegs = 30) %>%
mutate(AREA = st_area(geometry))
sum(buffer_cycling$AREA)
mpsz_selected <- mpsz %>%
filter(SUBZONE_N == "TAMPINES WEST")
pacman::p_load(sf, tidyverse)
mpsz = st_read(dsn = "data/geospatial",
layer = "MP14_SUBZONE_WEB_PL")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
preschool = st_read("data/geospatial/PreSchoolsLocation.kml")
st_geometry(mpsz)
glimpse(mpsz)
head(mpsz, n = 5)
par(bg = "#D0DDD0")
plot(mpsz)
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
par(bg = "#D0DDD0")
plot(mpsz["PLN_AREA_C"])
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
plot(st_geometry(preschool), add = TRUE)
par(bg = "#e6f0e6")
preschool_svy21 <- st_transform(preschool, 3414)
plot(st_geometry(mpsz))
plot(st_geometry(preschool_svy21), add = TRUE, col = "#BA487F", pch = 16, cex = 0.25)
st_crs(mpsz)
mpsz <- st_set_crs(mpsz, 3414)
st_crs(mpsz)
st_geometry(preschool)
preschool <- st_transform(preschool, crs = 3414)
st_geometry(preschool)
list(listings)
listings_sf <- st_as_sf(listings,
coords = c("longitude", "latitude"),
crs = 4326) %>%
st_transform(crs = 3414)
glimpse(listings_sf)
par(bg = "#D0DDD0")
plot(st_geometry(mpsz))
plot(st_geometry(listings_sf), add = TRUE, col = "#9112BC", pch = 16, cex = 0.25)
cyclingpath <- st_transform(cyclingpath, crs = 3414)
buffer_cycling <- st_buffer(cyclingpath,
dist = 5, nQuadSegs = 30) %>%
mutate(AREA = st_area(geometry))
sum(buffer_cycling$AREA)
mpsz_selected <- mpsz %>%
filter(SUBZONE_N == "TAMPINES WEST")
pacman::p_load(sf, tidyverse)
mpsz = st_read(dsn = "data/geospatial",
layer = "MP14_SUBZONE_WEB_PL")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
preschool = st_read("data/geospatial/PreSchoolsLocation.kml")
st_geometry(mpsz)
glimpse(mpsz)
head(mpsz, n = 5)
par(bg = "#D0DDD0")
plot(mpsz)
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
par(bg = "#D0DDD0")
plot(mpsz["PLN_AREA_C"])
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
plot(st_geometry(preschool), add = TRUE)
par(bg = "#e6f0e6")
preschool_svy21 <- st_transform(preschool, 3414)
plot(st_geometry(mpsz))
plot(st_geometry(preschool_svy21), add = TRUE, col = "#BA487F", pch = 16, cex = 0.25)
st_crs(mpsz)
mpsz <- st_set_crs(mpsz, 3414)
st_crs(mpsz)
st_geometry(preschool)
preschool <- st_transform(preschool, crs = 3414)
st_geometry(preschool)
list(listings)
pacman::p_load(sf, tidyverse)
mpsz = st_read(dsn = "data/geospatial",
layer = "MP14_SUBZONE_WEB_PL")
cyclingpath = st_read(dsn = "data/geospatial",
layer = "CyclingPathGazette")
glimpse(mpsz)
head(mpsz, n = 5)
par(bg = "#D0DDD0")
plot(mpsz)
par(bg = "#D0DDD0")
plot(mpsz["PLN_AREA_C"])
par(bg = "#e6f0e6")
plot(st_geometry(mpsz))
plot(st_geometry(preschool), add = TRUE)
par(bg = "#e6f0e6")
preschool_svy21 <- st_transform(preschool, 3414)
plot(st_geometry(mpsz))
plot(st_geometry(preschool_svy21), add = TRUE, col = "#BA487F", pch = 16, cex = 0.25)
st_crs(mpsz)
mpsz <- st_set_crs(mpsz, 3414)
st_crs(mpsz)
listings <- read_csv("data/aspatial/listings.csv")
list(listings)
listings_sf <- st_as_sf(listings,
coords = c("longitude", "latitude"),
crs = 4326) %>%
st_transform(crs = 3414)
glimpse(listings_sf)
par(bg = "#D0DDD0")
plot(st_geometry(mpsz))
plot(st_geometry(listings_sf), add = TRUE, col = "#9112BC", pch = 16, cex = 0.25)
cyclingpath <- st_transform(cyclingpath, crs = 3414)
buffer_cycling <- st_buffer(cyclingpath,
dist = 5, nQuadSegs = 30) %>%
mutate(AREA = st_area(geometry))
sum(buffer_cycling$AREA)
mpsz_selected <- mpsz %>%
filter(SUBZONE_N == "TAMPINES WEST")
buffer_cycling_selected <- st_intersection(
st_geometry(buffer_cycling),
st_geometry(mpsz_selected)
)
plot(st_geometry(mpsz_selected),main = "Cycling Buffer in Tampines West")
plot(st_geometry(buffer_cycling_selected),
col=NA, border ="#8EB859", lwd = 0.5,
add = TRUE)
mpsz$`PreSch Count` <- lengths(st_intersects(mpsz, preschool))
summary(mpsz$`PreSch Count`)
top_n(mpsz, 1, `PreSch Count`)
par(bg = "#D0DDD0")
buffer_cycling_selected <- st_intersection(
st_geometry(buffer_cycling),
st_geometry(mpsz_selected)
)
plot(st_geometry(mpsz_selected),main = "Cycling Buffer in Tampines West")
plot(st_geometry(buffer_cycling_selected),
col=NA, border ="#8EB859", lwd = 0.5,
add = TRUE)
